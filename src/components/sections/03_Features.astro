---
const features = [
  {
    icon: "music-note",
    image: "/images/features/feature_musical_analysis.jpg",
    title: "Describe Music with AI Analysis",
    description: "Learn how to describe music automatically. Identify mood, genre, instruments, BPM, and key with our AI music description tool."
  },
  {
    icon: "voice",
    image: "/images/features/feature_voice_analysis.jpg", 
    title: "Voice & Speech Analysis",
    description: "Analyze speaker emotion, gender, and speech clarity."
  },
  {
    icon: "sound-waves",
    image: "/images/features/feature_sound_effect.jpg", 
    title: "Sound Effect Recognition",
    description: "Recognize everything from nature sounds to urban noises."
  },
  {
    icon: "tags",
    image: "/images/features/feature_seo_tags.jpg",
    title: "AI Music Description Tags",
    description: "Automatically generate music description tags and SEO-friendly keywords to describe music effectively."
  },
  {
    icon: "code",
    image: "/images/features/feature_export_center.jpg", 
    title: "Export & Share",
    description: "Export analysis results as JSON, CSV, or text reports and share your insights.",
    special: false
  },
  {
    icon: "files",
    image: "/images/features/feature_history.jpg", // TODO: 需要创建 feature_history.png
    title: "Analysis History",
    description: "Keep track of all your previous analyses with automatic history saving.",
    special: false
  }
];
---
<section id="features" class="relative py-32 bg-gradient-to-b from-slate-900/20 via-transparent to-slate-900/30 overflow-hidden">
    <!-- Enhanced musical background elements -->
    <div class="absolute inset-0 opacity-20">
        <div class="absolute top-32 right-20 w-80 h-80 bg-violet-500/10 rounded-full blur-3xl"></div>
        <div class="absolute bottom-32 left-20 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl"></div>
        
        <!-- Floating musical notes -->
        <div class="absolute top-20 left-1/4 text-violet-400/20 text-6xl animate-bounce" style="animation-delay: 0s; animation-duration: 3s;">♪</div>
        <div class="absolute top-40 right-1/3 text-blue-400/20 text-4xl animate-bounce" style="animation-delay: 1s; animation-duration: 4s;">♫</div>
        <div class="absolute bottom-40 left-1/3 text-purple-400/20 text-5xl animate-bounce" style="animation-delay: 2s; animation-duration: 3.5s;">♬</div>
        <div class="absolute bottom-20 right-1/4 text-violet-400/20 text-3xl animate-bounce" style="animation-delay: 1.5s; animation-duration: 4.5s;">♩</div>
        
        <!-- Audio waveform decoration -->
        <div class="absolute top-1/2 left-10 transform -translate-y-1/2 opacity-10">
            <div class="flex items-end gap-1 h-32">
                <div class="w-1 bg-violet-400 rounded-full animate-pulse" style="height: 20%; animation-delay: 0s;"></div>
                <div class="w-1 bg-blue-400 rounded-full animate-pulse" style="height: 60%; animation-delay: 0.1s;"></div>
                <div class="w-1 bg-purple-400 rounded-full animate-pulse" style="height: 40%; animation-delay: 0.2s;"></div>
                <div class="w-1 bg-violet-400 rounded-full animate-pulse" style="height: 80%; animation-delay: 0.3s;"></div>
                <div class="w-1 bg-blue-400 rounded-full animate-pulse" style="height: 30%; animation-delay: 0.4s;"></div>
                <div class="w-1 bg-purple-400 rounded-full animate-pulse" style="height: 70%; animation-delay: 0.5s;"></div>
                <div class="w-1 bg-violet-400 rounded-full animate-pulse" style="height: 50%; animation-delay: 0.6s;"></div>
                <div class="w-1 bg-blue-400 rounded-full animate-pulse" style="height: 90%; animation-delay: 0.7s;"></div>
            </div>
        </div>
        
        <!-- Right side waveform -->
        <div class="absolute top-1/3 right-10 transform -translate-y-1/2 opacity-10 rotate-180">
            <div class="flex items-end gap-1 h-24">
                <div class="w-1 bg-blue-400 rounded-full animate-pulse" style="height: 40%; animation-delay: 0.8s;"></div>
                <div class="w-1 bg-violet-400 rounded-full animate-pulse" style="height: 70%; animation-delay: 0.9s;"></div>
                <div class="w-1 bg-purple-400 rounded-full animate-pulse" style="height: 30%; animation-delay: 1s;"></div>
                <div class="w-1 bg-blue-400 rounded-full animate-pulse" style="height: 85%; animation-delay: 1.1s;"></div>
                <div class="w-1 bg-violet-400 rounded-full animate-pulse" style="height: 45%; animation-delay: 1.2s;"></div>
                <div class="w-1 bg-purple-400 rounded-full animate-pulse" style="height: 65%; animation-delay: 1.3s;"></div>
            </div>
        </div>
    </div>
    
    <div class="max-w-6xl mx-auto px-6 relative z-10">
        <!-- Enhanced Section Header -->
        <div class="text-center mb-24 animate-on-scroll">
            <div class="relative inline-block mb-8">
                <!-- Musical decorations around title -->
                <div class="absolute -top-8 -left-8 text-violet-400/30 text-3xl animate-pulse" style="animation-delay: 0.5s;">♪</div>
                <div class="absolute -top-6 -right-12 text-blue-400/30 text-2xl animate-pulse" style="animation-delay: 1.5s;">♫</div>
                <div class="absolute -bottom-8 -left-6 text-purple-400/30 text-2xl animate-pulse" style="animation-delay: 2.5s;">♬</div>
                <div class="absolute -bottom-6 -right-8 text-violet-400/30 text-xl animate-pulse" style="animation-delay: 3.5s;">♩</div>
                
                <h2 class="text-5xl md:text-6xl font-bold tracking-tight">
                    <span class="bg-gradient-to-r from-white via-slate-100 to-slate-200 bg-clip-text text-transparent">
                        Unlock Every Detail
                    </span>
                    <br>
                    <span class="bg-gradient-to-r from-violet-400 via-purple-400 to-blue-400 bg-clip-text text-transparent">
                        in Your Audio
                    </span>
                </h2>
                
                <!-- Enhanced decorative line with waveform pattern -->
                <div class="absolute -bottom-4 left-1/2 -translate-x-1/2 w-32 h-1 bg-gradient-to-r from-violet-400 to-blue-400 rounded-full opacity-60"></div>
                <div class="absolute -bottom-2 left-1/2 -translate-x-1/2 flex items-end gap-px opacity-20">
                    <div class="w-px h-2 bg-violet-400 animate-pulse" style="animation-delay: 0s;"></div>
                    <div class="w-px h-3 bg-blue-400 animate-pulse" style="animation-delay: 0.1s;"></div>
                    <div class="w-px h-1 bg-purple-400 animate-pulse" style="animation-delay: 0.2s;"></div>
                    <div class="w-px h-4 bg-violet-400 animate-pulse" style="animation-delay: 0.3s;"></div>
                    <div class="w-px h-2 bg-blue-400 animate-pulse" style="animation-delay: 0.4s;"></div>
                    <div class="w-px h-3 bg-purple-400 animate-pulse" style="animation-delay: 0.5s;"></div>
                    <div class="w-px h-1 bg-violet-400 animate-pulse" style="animation-delay: 0.6s;"></div>
                    <div class="w-px h-2 bg-blue-400 animate-pulse" style="animation-delay: 0.7s;"></div>
                </div>
            </div>
            
            <p class="text-xl md:text-2xl text-slate-300/90 max-w-4xl mx-auto leading-relaxed">
                Discover how to describe music with AI using our cutting-edge technology that makes 
                <span class="text-violet-400 font-semibold">music description incredibly accurate and comprehensive</span>
            </p>
        </div>
        
        <div class="space-y-32">
        {features.map((feature, index) => (
            <div class="grid lg:grid-cols-2 gap-16 items-center animate-on-scroll group">
                <!-- Feature Image (Left/Right alternating) -->
                <div class:list={[{'lg:order-last': index % 2 === 0}]}>
                    <div class="relative">
                        <!-- Enhanced background glow -->
                        <div class="absolute inset-0 bg-gradient-to-r from-violet-500/20 to-blue-500/20 blur-3xl group-hover:blur-2xl transition-all duration-500"></div>
                        
                        <!-- Image Panel -->
                        <div class="relative glass-pane aspect-square p-4 group-hover:bg-white/[0.08] transition-all duration-500 border-white/10 group-hover:border-white/20 overflow-hidden">
                            <!-- Musical background pattern -->
                            <div class="absolute inset-0 opacity-20">
                                <!-- Mini frequency bars -->
                                <div class="absolute bottom-4 left-4 flex items-end gap-1">
                                    <div class="w-1 h-4 bg-violet-400/60 rounded-full animate-pulse" style="animation-delay: 0s;"></div>
                                    <div class="w-1 h-6 bg-blue-400/60 rounded-full animate-pulse" style="animation-delay: 0.1s;"></div>
                                    <div class="w-1 h-3 bg-purple-400/60 rounded-full animate-pulse" style="animation-delay: 0.2s;"></div>
                                    <div class="w-1 h-8 bg-violet-400/60 rounded-full animate-pulse" style="animation-delay: 0.3s;"></div>
                                    <div class="w-1 h-5 bg-blue-400/60 rounded-full animate-pulse" style="animation-delay: 0.4s;"></div>
                                    <div class="w-1 h-7 bg-purple-400/60 rounded-full animate-pulse" style="animation-delay: 0.5s;"></div>
                                </div>
                                
                                <!-- Floating mini notes -->
                                <div class="absolute top-4 right-4 text-violet-400/50 text-lg animate-pulse" style="animation-delay: 1s;">♪</div>
                                <div class="absolute bottom-8 right-8 text-blue-400/50 text-sm animate-pulse" style="animation-delay: 2s;">♫</div>
                                
                                <!-- Additional decorative elements -->
                                <div class="absolute top-8 left-8 text-purple-400/40 text-xs animate-pulse" style="animation-delay: 1.5s;">♬</div>
                            </div>
                            
                            <!-- Feature Image -->
                            <div class="relative w-full h-full flex items-center justify-center group-hover:scale-105 transition-transform duration-300">
                                <img 
                                    src={feature.image} 
                                    alt={feature.title}
                                    class="w-full h-full object-cover rounded-lg shadow-2xl"
                                />
                                
                                <!-- Image overlay for better text readability -->
                                <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent rounded-lg"></div>
                                
                                <!-- Feature title overlay -->
                                <div class="absolute bottom-4 left-4 right-4">
                                    <h4 class="text-lg font-bold text-white mb-1 drop-shadow-lg">
                                        {feature.title}
                                    </h4>
                                    {feature.special && (
                                        <div class="inline-block px-2 py-1 bg-violet-500/20 text-violet-300 text-xs rounded-full">
                                            Coming Soon
                                        </div>
                                    )}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Feature Description (Right/Left alternating) -->
                <div>
                    <div class="relative">
                        <!-- Enhanced glass pane with hover effects -->
                        <div class="glass-pane p-10 group-hover:bg-white/[0.08] transition-all duration-500 border-white/10 group-hover:border-white/20">
                            <h3 class="text-3xl md:text-4xl font-bold tracking-tight text-white mb-6 group-hover:text-white/95 transition-colors">
                                {feature.title}
                            </h3>
                            <p class="text-slate-300/80 text-lg leading-relaxed group-hover:text-slate-300/90 transition-colors mb-6">
                                {feature.description}
                            </p>
                            
                            <!-- Enhanced feature details -->
                            <div class="space-y-3">
                                {feature.icon === 'music-note' && (
                                    <div class="flex flex-wrap gap-2">
                                        <span class="px-3 py-1 bg-violet-500/20 text-violet-300 text-sm rounded-full">Genre Detection</span>
                                        <span class="px-3 py-1 bg-blue-500/20 text-blue-300 text-sm rounded-full">BPM Analysis</span>
                                        <span class="px-3 py-1 bg-purple-500/20 text-purple-300 text-sm rounded-full">Key Detection</span>
                                    </div>
                                )}
                                {feature.icon === 'voice' && (
                                    <div class="flex flex-wrap gap-2">
                                        <span class="px-3 py-1 bg-violet-500/20 text-violet-300 text-sm rounded-full">Emotion Analysis</span>
                                        <span class="px-3 py-1 bg-blue-500/20 text-blue-300 text-sm rounded-full">Gender Detection</span>
                                        <span class="px-3 py-1 bg-purple-500/20 text-purple-300 text-sm rounded-full">Clarity Score</span>
                                    </div>
                                )}
                                {feature.icon === 'sound-waves' && (
                                    <div class="flex flex-wrap gap-2">
                                        <span class="px-3 py-1 bg-violet-500/20 text-violet-300 text-sm rounded-full">Nature Sounds</span>
                                        <span class="px-3 py-1 bg-blue-500/20 text-blue-300 text-sm rounded-full">Urban Noise</span>
                                        <span class="px-3 py-1 bg-purple-500/20 text-purple-300 text-sm rounded-full">Event Detection</span>
                                    </div>
                                )}
                                {feature.icon === 'tags' && (
                                    <div class="flex flex-wrap gap-2">
                                        <span class="px-3 py-1 bg-violet-500/20 text-violet-300 text-sm rounded-full">SEO Tags</span>
                                        <span class="px-3 py-1 bg-blue-500/20 text-blue-300 text-sm rounded-full">Auto Keywords</span>
                                        <span class="px-3 py-1 bg-purple-500/20 text-purple-300 text-sm rounded-full">Smart Labels</span>
                                    </div>
                                )}
                                {feature.icon === 'code' && (
                                    <div class="flex flex-wrap gap-2">
                                        <span class="px-3 py-1 bg-violet-500/20 text-violet-300 text-sm rounded-full">JSON Export</span>
                                        <span class="px-3 py-1 bg-blue-500/20 text-blue-300 text-sm rounded-full">CSV Export</span>
                                        <span class="px-3 py-1 bg-purple-500/20 text-purple-300 text-sm rounded-full">Share Links</span>
                                    </div>
                                )}
                                {feature.icon === 'files' && (
                                    <div class="flex flex-wrap gap-2">
                                        <span class="px-3 py-1 bg-violet-500/20 text-violet-300 text-sm rounded-full">Auto Save</span>
                                        <span class="px-3 py-1 bg-blue-500/20 text-blue-300 text-sm rounded-full">Quick Access</span>
                                        <span class="px-3 py-1 bg-purple-500/20 text-purple-300 text-sm rounded-full">Search History</span>
                                    </div>
                                )}
                            </div>
                            
                            <!-- Decorative gradient line -->
                            <div class="mt-8 w-16 h-1 bg-gradient-to-r from-violet-400 to-blue-400 rounded-full opacity-60 group-hover:opacity-100 group-hover:w-24 transition-all duration-500"></div>
                        </div>
                        
                        <!-- Subtle glow effect on hover -->
                        <div class="absolute inset-0 bg-gradient-to-r from-violet-500/10 to-blue-500/10 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 -z-10"></div>
                    </div>
                </div>
            </div>
        ))}
    </div>
</section>