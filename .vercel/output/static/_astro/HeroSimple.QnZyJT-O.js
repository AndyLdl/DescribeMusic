import{j as e,A as fe,C as pe,c as ge,a as ve,u as be}from"./CreditContext.Cd34fGmH.js";import{r as a}from"./index.D5cfIYOg.js";import{r as je}from"./index.JGkOQbWX.js";import{L as ye}from"./LoginModal.D24Kv1o2.js";import{c as we}from"./cloudFunctions.2lhTE6Z-.js";var Ne=je();let m={toasts:[],listeners:new Set};const g=s=>{if(typeof window>"u")return"";const i=`toast-${Date.now()}-${Math.floor(Math.random()*1e6)}`,o={...s,id:i,duration:s.duration??(s.type==="error"?8e3:5e3)};return m.toasts=[...m.toasts,o],m.listeners.forEach(h=>h(m.toasts)),!o.persistent&&o.duration&&o.duration>0&&setTimeout(()=>{Y(i)},o.duration),i},Y=s=>{m.toasts=m.toasts.filter(i=>i.id!==s),m.listeners.forEach(i=>i(m.toasts))},ke=()=>{m.toasts=[],m.listeners.forEach(s=>s(m.toasts))};function Ce({toast:s,onRemove:i}){const[o,h]=a.useState(!1),[v,b]=a.useState(!1);a.useEffect(()=>{const f=setTimeout(()=>h(!0),10);return()=>clearTimeout(f)},[]);const G=a.useCallback(()=>{b(!0),setTimeout(()=>{i(s.id)},300)},[s.id,i]),R=()=>{switch(s.type){case"success":return e.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})});case"error":return e.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})});case"warning":return e.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})});case"info":return e.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});case"loading":return e.jsxs("svg",{className:"w-5 h-5 text-blue-400 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]});default:return null}},x=()=>{const f="glass-pane p-4 rounded-lg shadow-lg border-l-4 transition-all duration-300 ease-in-out";let l="";switch(s.type){case"success":l="border-green-400 bg-green-900/20";break;case"error":l="border-red-400 bg-red-900/20";break;case"warning":l="border-yellow-400 bg-yellow-900/20";break;case"info":l="border-blue-400 bg-blue-900/20";break;case"loading":l="border-blue-400 bg-blue-900/20";break;default:l="border-slate-400 bg-slate-900/20"}return`${f} ${l} ${o&&!v?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`};return e.jsx("div",{className:x(),children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:R()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-medium text-white",children:s.title}),e.jsx("p",{className:"text-sm text-slate-300 mt-1",children:s.message}),s.actions&&s.actions.length>0&&e.jsx("div",{className:"flex space-x-2 mt-3",children:s.actions.map((f,l)=>e.jsx("button",{onClick:f.action,className:`px-3 py-1 text-xs font-medium rounded transition-colors ${f.variant==="primary"?"bg-violet-600 hover:bg-violet-700 text-white":"bg-white/10 hover:bg-white/20 text-white"}`,children:f.label},l))})]}),!s.persistent&&e.jsx("button",{onClick:G,className:"flex-shrink-0 text-slate-400 hover:text-white transition-colors",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function Le(){const[s,i]=a.useState([]);return a.useEffect(()=>{const o=h=>{i(h)};return m.listeners.add(o),i(m.toasts),()=>{m.listeners.delete(o)}},[]),s.length===0?null:Ne.createPortal(e.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm w-full",children:s.map(o=>e.jsx(Ce,{toast:o,onRemove:Y},o.id))}),document.body)}function Me(){return{addToast:g,removeToast:Y,clearToasts:ke,success:(s,i,o)=>g({type:"success",title:s,message:i,actions:o}),error:(s,i,o)=>g({type:"error",title:s,message:i,actions:o,duration:8e3}),warning:(s,i,o)=>g({type:"warning",title:s,message:i,actions:o}),info:(s,i,o)=>g({type:"info",title:s,message:i,actions:o}),loading:(s,i,o=!0)=>g({type:"loading",title:s,message:i,persistent:o}),creditSuccess:(s,i="操作")=>g({type:"success",title:"积分操作成功",message:`${i}成功，${i.includes("消费")?"消费":"获得"} ${s} 积分`}),creditError:(s,i)=>g({type:"error",title:"积分操作失败",message:s,actions:i,duration:8e3}),paymentSuccess:(s,i)=>g({type:"success",title:"支付成功",message:`支付 $${s} 成功，已获得 ${i} 积分`}),paymentError:(s,i)=>g({type:"error",title:"支付失败",message:s,actions:i||[{label:"重试",action:()=>window.location.reload()},{label:"联系客服",action:()=>window.location.href="mailto:support@example.com"}],duration:1e4}),insufficientCredits:(s,i,o)=>g({type:"warning",title:"积分不足",message:`需要 ${s} 积分，当前余额 ${i} 积分`,actions:o?[{label:"购买积分",action:o,variant:"primary"},{label:"查看定价",action:()=>window.location.href="/pricing"}]:[{label:"查看定价",action:()=>window.location.href="/pricing",variant:"primary"}],duration:8e3}),networkError:(s="操作")=>g({type:"error",title:"网络错误",message:`${s}失败，请检查网络连接`,actions:[{label:"重试",action:()=>window.location.reload(),variant:"primary"}],duration:6e3})}}const T=[{id:"rock",title:"🎸 Rock Anthem",description:"High-energy hard rock anthem with driving rhythm and powerful instrumentation",audioSrc:"/audio/samples/rock-anthem.wav",analysis:{genre:"Hard Rock",mood:"Energetic, Anthemic",tempo:"140 BPM",key:"E minor",energy:"Very High (0.95)",vocals:"None (Instrumental)",instruments:["Electric Guitar","Bass Guitar","Drums"],quality:"Studio Quality (7/10)",tags:["hard-rock","rock-anthem","energetic","anthemic","powerful","driving-rhythm","electric-guitar","drums","bass","high-energy","live-recording","rock-music","e-minor","loud","intense"]},summary:"A high-energy hard rock anthem with a driving rhythm, powerful vocals, and a classic rock feel, reminiscent of bands like The White Stripes and Foo Fighters."},{id:"speech",title:"🎙️ Female Voice Sample",description:"High-quality female speech with clear pronunciation",audioSrc:"/audio/samples/femal-vocal.mp3",analysis:{genre:"Speech/TTS",mood:"Calm, Neutral",tempo:"Normal Speech (150 WPM)",key:"N/A",energy:"Low (0.0)",vocals:"Female Voice - Clear Speech",instruments:[],quality:"High Quality (7/10)",tags:["speech","female-voice","tts","text-to-speech","calm","neutral","clear-speech","short-audio","english","low-noise"],voiceAnalysis:{gender:"Female",emotion:"Neutral, Calm",clarity:"Excellent (0.9)"}},summary:"A short, high-quality audio clip features a calm female voice speaking in English with a General American accent."},{id:"ambient",title:"🌲 Forest Ambience",description:"Natural soundscape with birds, wind, and distant water",audioSrc:"/audio/samples/forest-ambience.mp3",analysis:{genre:"Ambient",mood:"Peaceful",tempo:"60 BPM",key:"C Major",energy:"Very Low (0.2)",vocals:"None (Instrumental)",instruments:["Natural Sounds","Birds","Wind","Water"],quality:"High Quality (7/10)",tags:["ambient","nature-sounds","forest-ambience","birds","wind","water","peaceful","calm","relaxing","outdoor","high-quality"]},summary:"A high-quality recording of a peaceful forest ambience featuring gentle wind, birdsong, and distant water sounds, ideal for relaxation or meditation."}];function Ae(){const s=Me(),{checkTrialCredits:i,consumeTrialCredits:o,getTrialCreditBalance:h}=ge(),{credits:v,creditBalance:b,loading:G,refreshCredits:R}=ve(),{user:x,loading:f}=be(),[l,w]=a.useState("idle"),[c,I]=a.useState(null),[Q,z]=a.useState(0),[Se,J]=a.useState(0),[K,E]=a.useState(""),[u,P]=a.useState(0),[B,W]=a.useState(null),[M,Z]=a.useState(null),[_,N]=a.useState(""),[Te,ee]=a.useState(null),[p,V]=a.useState(null),[D,le]=a.useState(0),[te,se]=a.useState(!0),[U,H]=a.useState(!1),[j,F]=a.useState(T[0].audioSrc),[ze,Pe]=a.useState(!1),[q,ne]=a.useState(0),[oe,re]=a.useState(!1),C=a.useRef(null),k=a.useRef(null),y=a.useRef(null),A=a.useRef(null),L=a.useCallback(t=>Math.ceil(t),[]);a.useCallback(async()=>x&&!f?b?{total:b.total,used:b.total-v,remaining:v}:null:await h(),[x,f,b,v,h]);const ce=a.useCallback(()=>{x?window.location.href="/pricing":re(!0)},[x]);a.useEffect(()=>{const t=()=>{document.getElementById("living-nebula-canvas")&&window.initNebulaVisualizer?window.initNebulaVisualizer():setTimeout(t,100)};t()},[]),a.useEffect(()=>{(async()=>{try{if(x&&!f)b&&v!==void 0&&V({total:b.total,used:b.total-v,remaining:v});else{const r=await h();ee(r),V(r)}}catch(r){console.error("Failed to load credit balance:",r)}})()},[x,f,b,v,h]),a.useEffect(()=>(te&&l==="idle"&&!U?y.current=setInterval(()=>{le(t=>(t+1)%T.length)},4e3):y.current&&(clearInterval(y.current),y.current=null),()=>{y.current&&clearInterval(y.current)}),[te,l,U]);const $=a.useCallback(()=>{A.current&&clearTimeout(A.current),se(!1),y.current&&(clearInterval(y.current),y.current=null),A.current=setTimeout(()=>{l==="idle"&&se(!0)},1e4)},[l]);a.useEffect(()=>()=>{A.current&&clearTimeout(A.current)},[]),a.useEffect(()=>{l==="idle"&&F(T[D].audioSrc)},[D,l]);const ae=a.useCallback(async t=>new Promise(r=>{const n=new Audio,d=URL.createObjectURL(t);n.onloadedmetadata=()=>{const S=Math.ceil(n.duration);URL.revokeObjectURL(d),r(S)},n.onerror=()=>{URL.revokeObjectURL(d),r(0)},n.src=d}),[]),O=[{text:"Preparing upload...",progress:5},{text:"Uploading audio file...",progress:20},{text:"Processing audio data...",progress:45},{text:"Analyzing patterns...",progress:75},{text:"Finalizing results...",progress:100}];a.useEffect(()=>{if(l==="analyzing"){let t;const r=n=>{n<O.length?(J(n),E(O[n].text),z(O[n].progress),t=setTimeout(()=>r(n+1),1e3)):(w("complete"),z(100))};return r(0),()=>{clearTimeout(t)}}},[l,s]);const ie=a.useCallback(async(t,r)=>{try{N(""),W(null),`${r}`;const n=await we.analyzeAudio(t,{includeStructure:!0,includeSimilarity:!0,detailedAnalysis:!0,generateTags:!0,audioDuration:r,onProgress:d=>{W(d),E(d.message),z(d.percentage)}});if(Z(n),w("complete"),x)await R();else{const d=await h();ee(d),V(d)}}catch(n){console.error("Analysis failed:",n),N("Analysis failed. Please try again."),w("idle"),s.error("Analysis Failed","Please try again or contact support if the issue persists.")}},[o,h,s]),X=a.useCallback(async t=>{try{if(N(""),!["audio/mpeg","audio/wav","audio/flac","audio/aac"].includes(t.type)){s.error("Invalid File Type","Please upload MP3, WAV, FLAC, or AAC files only");return}const n=50*1024*1024;if(t.size>n){s.error("File Too Large","Please upload files smaller than 50MB");return}const d=await ae(t);P(d);const S=URL.createObjectURL(t);F(S),I(t),w("uploaded")}catch(r){console.error("Error handling file upload:",r),N("Failed to process audio file. Please try again."),s.error("Upload Failed","Failed to process audio file. Please try again.")}},[ae,s]),de=a.useCallback(async()=>{if(!(!c||!u))try{let t=!1;if(x?t=v>=L(u):t=await i(u),!t){const r=L(u);N(`Audio too long (${u}s), requires ${r} credits. Please choose a shorter audio or login for more credits.`),s.error("Insufficient Credits",`This audio requires ${r} credits. Please choose a shorter audio.`);return}w("analyzing"),await ie(c,u)}catch(t){console.error("Error starting analysis:",t),N("Failed to start analysis. Please try again."),s.error("Analysis Failed","Failed to start analysis. Please try again.")}},[c,u,x,v,i,L,ie,s]),ue=t=>{const r=t.target.files?.[0];r&&X(r)},me=t=>{t.preventDefault(),t.currentTarget.classList.add("border-violet-400/50","bg-violet-500/5")},xe=t=>{t.preventDefault(),t.currentTarget.classList.remove("border-violet-400/50","bg-violet-500/5")},he=a.useCallback(t=>{t.preventDefault(),t.currentTarget.classList.remove("border-violet-400/50","bg-violet-500/5");const r=t.dataTransfer.files;if(r.length>0){const n=r[0];n.type.startsWith("audio/")?X(n):s.error("Invalid File Type","Please upload an audio file.")}},[X,s]);return a.useCallback(()=>{C.current?.click()},[]),a.useCallback(()=>{j&&j.startsWith("blob:")&&URL.revokeObjectURL(j),w("idle"),I(null),Z(null),W(null),z(0),J(0),E(""),P(0),N(""),F("/audio/samples/rock-anthem.wav"),C.current&&(C.current.value="")},[j]),e.jsxs(e.Fragment,{children:[e.jsx(Le,{}),e.jsx("style",{children:`
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slide-in-from-top {
          from { opacity: 0; transform: translateY(-20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slide-in-from-bottom {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slide-in-from-left {
          from { opacity: 0; transform: translateX(-20px); }
          to { opacity: 1; transform: translateX(0); }
        }
        @keyframes slide-in-from-right {
          from { opacity: 0; transform: translateX(20px); }
          to { opacity: 1; transform: translateX(0); }
        }
        @keyframes carousel-slide {
          from { opacity: 0; transform: translateX(100%) scale(0.95); }
          to { opacity: 1; transform: translateX(0) scale(1); }
        }
        @keyframes carousel-slide-out {
          from { opacity: 1; transform: translateX(0) scale(1); }
          to { opacity: 0; transform: translateX(-100%) scale(0.95); }
        }
        .animate-fade-in {
          animation: fade-in 0.6s ease-out;
        }
        .animate-slide-in-from-top {
          animation: slide-in-from-top 0.6s ease-out;
        }
        .animate-slide-in-from-bottom {
          animation: slide-in-from-bottom 0.6s ease-out;
        }
        .animate-slide-in-from-left {
          animation: slide-in-from-left 0.6s ease-out;
        }
        .animate-slide-in-from-right {
          animation: slide-in-from-right 0.6s ease-out;
        }
        .animate-carousel-slide {
          animation: carousel-slide 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .animate-carousel-slide-out {
          animation: carousel-slide-out 0.5s ease-in;
        }
        .demo-card {
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .demo-card:hover {
          transform: translateY(-2px);
        }
        .demo-card.active {
          transform: scale(1.02);
        }
      `}),e.jsxs("div",{className:"relative min-h-screen flex items-start justify-center overflow-hidden bg-dark-bg -mt-20 pt-16 pb-20",children:[e.jsx("canvas",{id:"living-nebula-canvas",className:"absolute inset-0 w-full h-full"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-900/40 via-purple-900/30 to-blue-900/40 z-5"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent z-5"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-violet-500/5 to-transparent z-5"}),e.jsx("div",{className:"relative z-10 w-full max-w-6xl mx-auto px-4 lg:px-8",children:e.jsxs("div",{className:"flex flex-col items-center text-center space-y-12",children:[e.jsxs("div",{className:"w-full max-w-4xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("h1",{className:"text-3xl md:text-5xl lg:text-6xl font-bold tracking-tighter !leading-tight mb-3 whitespace-nowrap",children:e.jsx("span",{className:"bg-gradient-to-r from-white via-violet-300 to-cyan-300 bg-clip-text text-transparent drop-shadow-2xl",children:"Describe Music."})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500/30 to-cyan-500/30 blur-2xl -z-10"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-400/20 to-cyan-400/20 blur-xl -z-10"})]}),e.jsx("p",{className:"text-lg md:text-xl lg:text-2xl text-slate-200/95 mb-4 font-medium",children:e.jsx("span",{className:"bg-gradient-to-r from-slate-200 to-slate-300 bg-clip-text text-transparent",children:"AI-Powered Music Description & Audio Analysis."})}),e.jsx("p",{className:"text-slate-300/90 text-sm md:text-base leading-relaxed max-w-2xl mx-auto",children:"Describe music with AI instantly. Transform any audio into detailed insights, identify genres, emotions, instruments, and more with our advanced music description technology."})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:["Describe Music Genre","Describe Music Mood","Describe Music Instruments","Describe Music Structure"].map((t,r)=>e.jsx("span",{className:"px-3 py-1 bg-white/5 rounded-full text-white/80 text-xs",children:t},r))})}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-8",children:[e.jsxs("a",{href:"/analyze",className:"group relative w-full sm:w-auto px-8 py-4 bg-gradient-to-r from-violet-500 to-blue-500 hover:from-violet-600 hover:to-blue-600 rounded-xl font-bold text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 transform flex items-center justify-center gap-3",children:[e.jsx("svg",{className:"w-5 h-5 group-hover:rotate-12 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),e.jsx("span",{children:"Start Full Analysis"}),e.jsx("svg",{className:"w-4 h-4 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500/50 to-blue-500/50 rounded-xl blur-xl opacity-50 group-hover:opacity-75 transition-opacity -z-10"})]}),e.jsxs("button",{onClick:()=>{const t=document.querySelector("#quick-analysis-section");t&&t.scrollIntoView({behavior:"smooth",block:"start"})},className:"group w-full sm:w-auto px-8 py-4 bg-white/10 hover:bg-white/15 border-2 border-white/20 hover:border-white/30 rounded-xl font-semibold text-white transition-all duration-300 hover:scale-105 transform flex items-center justify-center gap-3",children:[e.jsx("svg",{className:"w-5 h-5 group-hover:translate-y-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),e.jsx("span",{children:"Quick Try Below"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-6 text-xs text-slate-400 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-violet-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{children:"Full: History & Export"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),e.jsx("span",{children:"Quick: Instant Results"})]})]})]}),e.jsx("div",{id:"quick-analysis-section",className:"w-full max-w-6xl scroll-mt-20",children:e.jsx("div",{className:"bg-white/5 rounded-3xl p-10 mg:p-16 border border-white/10",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 lg:gap-16",children:[e.jsxs("div",{className:"flex flex-col space-y-6",children:[e.jsxs("div",{className:"relative",children:[(l==="idle"||l==="uploaded"||l==="complete")&&e.jsxs("div",{className:"bg-white/5 rounded-2xl p-8 text-center border-2 border-dashed border-white/20 hover:border-violet-400/50 hover:bg-violet-500/5 transition-all duration-300 cursor-pointer group",onDragOver:me,onDragLeave:xe,onDrop:he,onClick:()=>document.getElementById("file-upload")?.click(),children:[e.jsx("input",{ref:C,id:"file-upload",type:"file",accept:"audio/mpeg,audio/wav,audio/flac,audio/aac",onChange:ue,className:"hidden"}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"w-16 h-16 mx-auto bg-violet-500/20 rounded-xl flex items-center justify-center group-hover:bg-violet-500/30 transition-colors",children:e.jsx("svg",{className:"w-8 h-8 text-violet-300 group-hover:text-violet-200 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})})}),l==="idle"&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Drop your audio file here"}),e.jsx("p",{className:"text-slate-300 text-base mb-6",children:"or click to select file"}),e.jsx("p",{className:"text-xs text-slate-400 mb-4",children:"Max file size: 50MB"}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:["MP3","WAV","FLAC","AAC"].map((t,r)=>e.jsx("span",{className:"px-3 py-1.5 bg-violet-500/20 text-violet-300 rounded-lg text-xs font-medium border border-violet-500/30",children:t},r))})]}),l==="uploaded"&&c&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"File Ready for Analysis"}),e.jsx("div",{className:"text-slate-300 text-base mb-4 max-w-full",children:e.jsx("p",{className:"break-words overflow-hidden text-ellipsis whitespace-nowrap",title:c.name,children:c.name})}),e.jsxs("p",{className:"text-slate-400 text-sm mb-6",children:["Duration: ",Math.floor(u/60),":",Math.floor(u%60).toString().padStart(2,"0")," • Size: ",(c.size/1024/1024).toFixed(1),"MB"]}),e.jsxs("button",{onClick:t=>{t.stopPropagation(),j&&j.startsWith("blob:")&&URL.revokeObjectURL(j),w("idle"),I(null),P(0),N(""),F("/audio/samples/rock-anthem.wav"),C.current&&(C.current.value="")},className:"w-full py-2.5 px-4 rounded-lg text-sm font-medium bg-red-500/20 hover:bg-red-500/30 text-red-300 hover:text-red-200 border border-red-500/40 hover:border-red-400/60 transition-all duration-200 hover:scale-[1.02] flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel Selection"]})]}),l==="complete"&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Drop your audio file here"}),e.jsx("p",{className:"text-slate-300 text-base mb-6",children:"or click to select file"}),e.jsx("p",{className:"text-xs text-slate-400 mb-4",children:"Max file size: 50MB"}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:["MP3","WAV","FLAC","AAC"].map((t,r)=>e.jsx("span",{className:"px-3 py-1.5 bg-violet-500/20 text-violet-300 rounded-lg text-xs font-medium border border-violet-500/30",children:t},r))})]})]}),l==="analyzing"&&e.jsxs("div",{className:"bg-white/5 rounded-2xl p-8 text-center border border-white/10",children:[e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"w-16 h-16 mx-auto bg-violet-500/20 rounded-xl flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-2 border-violet-500 border-t-transparent rounded-full animate-spin"})})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"AI Analysis in Progress"}),e.jsx("p",{className:"text-slate-300 text-base mb-6",children:B?.message||K}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-slate-400",children:"Overall Progress"}),e.jsxs("span",{className:"text-sm text-slate-400",children:[Math.round(B?.percentage||Q),"%"]})]}),e.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-violet-500 to-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${B?.percentage||Q}%`}})})]})]}),e.jsxs("div",{className:"mt-6",children:[c&&u>0&&p&&p.remaining<L(u)?e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:ce,className:"w-full py-4 px-6 rounded-lg font-bold text-white transition-all duration-300 transform hover:scale-105 shadow-lg bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 border-2 border-orange-400/50 hover:border-orange-300",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),x?"Purchase More Credits":"Login to Get More Credits"]})}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-sm text-orange-300 font-medium",children:["Need ",L(u)-p.remaining," more credits"]}),e.jsx("p",{className:"text-xs text-orange-200/80 mt-1",children:x?"Purchase credits to continue analysis":"Login to access your credit balance"})]})]}):e.jsx("button",{onClick:de,disabled:!c||!u||!p||l==="analyzing"||l==="complete",className:`w-full py-3 px-6 rounded-lg font-semibold transition-colors ${!c||!u||!p||l==="analyzing"||l==="complete"?"bg-gray-500/20 text-gray-400 cursor-not-allowed":"bg-violet-500 hover:bg-violet-600 text-white"}`,children:l==="analyzing"?"AI Analysis in Progress...":c?u?p?l==="complete"?"Select an audio file to start analysis":`Start Analysis (${L(u)} credits)`:"Loading credits...":"Processing file...":"Select an audio file to start analysis"}),c&&u>0&&p&&l!=="complete"&&e.jsx("div",{className:"mt-3 text-center",children:e.jsxs("p",{className:"text-xs text-slate-400",children:["Remaining: ",p.remaining," credits • 1 credit per second"]})})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-500/15 to-violet-500/15 rounded-xl p-5 border border-blue-500/30 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-blue-500/10 rounded-full -translate-y-8 translate-x-8"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-12 h-12 bg-violet-500/10 rounded-full translate-y-6 -translate-x-6"}),e.jsxs("div",{className:"flex items-start gap-3 mb-4 relative z-10",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500/30 to-violet-500/30 flex items-center justify-center shadow-lg",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-bold text-white text-sm",children:"Free Trial Credits"}),e.jsxs("div",{className:"px-2 py-0.5 bg-blue-500/20 text-blue-300 text-xs rounded-full border border-blue-500/30",children:[p?`${p.remaining}`:"100"," LEFT"]})]}),e.jsx("div",{className:"text-xs text-blue-200 text-left",children:p?`${p.remaining} credits remaining`:"100 credits • 1 second = 1 credit"})]})]}),e.jsxs("div",{className:"space-y-2 mb-4 relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-200",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full"}),e.jsx("span",{children:"No credit card required"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-200",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-violet-400 rounded-full"}),e.jsx("span",{children:"Instant analysis"})]})]})]})]}),e.jsxs("div",{className:"flex flex-col space-y-6",children:[e.jsxs("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/10",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"text-base font-bold text-white text-left",children:"Audio Player"}),e.jsx("div",{className:`px-2 py-0.5 text-xs rounded-full border ${c?"bg-green-500/20 text-green-300 border-green-500/30":"bg-amber-500/20 text-amber-300 border-amber-500/30"}`,children:c?"UPLOADED":"DEMO"})]}),e.jsx("p",{className:"text-slate-300 text-xs text-left",children:c?"Preview your uploaded audio":"Preview demo audio samples"})]}),e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${D*100}%)`},children:T.map((t,r)=>e.jsx("div",{className:"w-full flex-shrink-0",children:e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[e.jsx("div",{className:"w-6 h-6 rounded bg-violet-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-3 h-3 text-violet-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})})}),e.jsx("div",{className:"text-left min-w-0 flex-1",children:e.jsx("div",{className:"text-white font-medium text-xs truncate",title:c?c.name.replace(/\.[^/.]+$/,""):t.title,children:c?c.name.replace(/\.[^/.]+$/,""):t.title})})]}),e.jsx("button",{id:"play-pause-btn",className:"w-8 h-8 rounded-full bg-violet-500/30 flex items-center justify-center hover:bg-violet-500/40 transition-colors flex-shrink-0",onClick:async n=>{n.preventDefault();const d=k.current;if($(),d)try{d.paused?await d.play():d.pause()}catch(S){console.error("Audio play failed:",S),d.load()}},children:U?e.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):e.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M8 5v14l11-7z"})})})]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs text-slate-400",children:`${Math.floor(q/60)}:${Math.floor(q%60).toString().padStart(2,"0")}`}),e.jsx("span",{className:"text-xs text-slate-400",children:k.current?.duration?`${Math.floor(k.current.duration/60)}:${Math.floor(k.current.duration%60).toString().padStart(2,"0")}`:"1:06"})]}),e.jsx("div",{className:"w-full bg-white/10 rounded-full h-1",children:e.jsx("div",{className:"bg-violet-500 h-1 rounded-full transition-all duration-300",style:{width:k.current?.duration?`${q/k.current.duration*100}%`:"0%"}})})]})]})},t.id))}),e.jsxs("audio",{ref:k,id:"audio-player",preload:"metadata",controls:!1,onTimeUpdate:t=>{const r=t.target;r&&ne(r.currentTime)},onLoadedMetadata:t=>{const r=t.target;r&&r.duration&&P(r.duration)},onPlay:()=>{H(!0),$()},onPause:()=>{H(!1),$()},onEnded:()=>{H(!1),$();const t=document.getElementById("play-pause-btn");t&&(t.innerHTML='<svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>')},onError:t=>{console.error("Audio loading error:",t)},children:[e.jsx("source",{src:j,type:j.includes(".wav")?"audio/wav":"audio/mpeg"}),"Your browser does not support the audio element."]},j)]})]}),_&&e.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-6",children:e.jsx("p",{className:"text-red-300 text-sm",children:_})}),e.jsxs("div",{className:"bg-white/5 rounded-2xl p-6 border border-white/10",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-1 text-left",children:"Analysis Results"}),e.jsx("p",{className:"text-slate-300 text-sm text-left",children:"AI-powered insights"})]}),e.jsxs("div",{className:"transition-all duration-500 ease-in-out",children:[l==="idle"&&e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-5 h-5 rounded bg-violet-500/20 flex items-center justify-center",children:e.jsx("svg",{className:"w-3 h-3 text-violet-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("span",{className:"text-xs text-slate-400",children:"Demo Result"})]}),e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"text-white/90 text-sm leading-relaxed mb-4 text-left",children:T[D].summary})}),e.jsx("div",{className:"text-xs text-slate-400 italic",children:"Upload your audio file to get real AI analysis"})]}),l==="uploaded"&&c&&e.jsxs("div",{className:"bg-gradient-to-r from-green-500/10 to-emerald-500/10 rounded-lg p-4 border border-green-500/20 animate-slide-in-from-top",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-5 h-5 rounded bg-green-500/20 flex items-center justify-center animate-pulse",children:e.jsx("svg",{className:"w-3 h-3 text-green-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("span",{className:"text-xs text-green-400 font-medium",children:"Ready for Analysis"})]}),e.jsx("div",{className:"flex items-center justify-center gap-1 mb-4",children:[1,2,3,4,5,4,3,2,1,2,3,4,5,4,3,2,1].map((t,r)=>e.jsx("div",{className:"bg-green-500 rounded-full animate-pulse",style:{width:"3px",height:`${t*3}px`,animationDelay:`${r*.1}s`,animationDuration:"1.5s"}},r))}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-green-300 mb-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce"}),e.jsx("span",{children:"Audio file ready for AI analysis"}),e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),e.jsx("div",{className:"mt-3 p-2 bg-green-500/10 rounded-lg border border-green-500/20",children:e.jsx("p",{className:"text-green-300 text-xs text-center",children:'🎵 Click "Start Analysis" to get AI insights'})})]})]}),l==="analyzing"&&e.jsxs("div",{className:"bg-gradient-to-r from-violet-500/10 to-blue-500/10 rounded-lg p-4 border border-violet-500/20 animate-pulse",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-5 h-5 rounded bg-violet-500/20 flex items-center justify-center",children:e.jsx("div",{className:"w-3 h-3 border-2 border-violet-500 border-t-transparent rounded-full animate-spin"})}),e.jsx("span",{className:"text-xs text-violet-400 font-medium",children:"AI Analysis in Progress"})]}),e.jsx("div",{className:"flex items-center justify-center gap-1 mb-4",children:[1,2,3,4,5,4,3,2,1,2,3,4,5,4,3,2,1].map((t,r)=>e.jsx("div",{className:"bg-violet-500 rounded-full animate-pulse",style:{width:"3px",height:`${t*4}px`,animationDelay:`${r*.1}s`,animationDuration:"1s"}},r))}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white/90 text-sm mb-2",children:B?.message||K}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-slate-400",children:[e.jsx("div",{className:"w-2 h-2 bg-violet-500 rounded-full animate-bounce"}),e.jsx("span",{children:"Processing your audio file..."}),e.jsx("div",{className:"w-2 h-2 bg-violet-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})]}),l==="complete"&&M&&e.jsxs("div",{className:"bg-gradient-to-r from-green-500/10 to-emerald-500/10 rounded-lg p-4 border border-green-500/20 animate-slide-in-from-bottom",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 rounded bg-green-500/20 flex items-center justify-center animate-bounce",children:e.jsx("svg",{className:"w-3 h-3 text-green-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("span",{className:"text-xs text-green-400 font-medium",children:"✓ Analysis Complete"})]}),e.jsx("button",{className:"w-8 h-8 rounded-lg bg-white/10 flex items-center justify-center hover:bg-white/20 transition-colors animate-pulse",onClick:t=>{const r=M.aiDescription||"No description available";navigator.clipboard.writeText(r).then(()=>{s.success("Copied Successfully","AI description copied to clipboard");const n=t.currentTarget;if(n){const d=n.innerHTML;n.innerHTML='<svg class="w-4 h-4 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>',setTimeout(()=>{n&&(n.innerHTML=d)},1500)}}).catch(n=>{console.error("Copy failed:",n),s.error("Copy Failed","Unable to copy to clipboard, please copy manually")})},children:e.jsx("svg",{className:"w-4 h-4 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("p",{className:"text-white/90 text-sm leading-relaxed mb-4 text-left animate-fade-in",children:M.aiDescription||"Analysis completed successfully!"}),e.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 bg-green-400 rounded-full animate-ping"}),e.jsx("div",{className:"absolute top-2 right-2 w-1 h-1 bg-green-300 rounded-full animate-ping",style:{animationDelay:"0.5s"}})]}),e.jsx("button",{onClick:()=>{sessionStorage.setItem("heroAnalysisResult",JSON.stringify(M)),window.location.href=`/analyze?id=${M.id}`},className:"w-full bg-violet-500 hover:bg-violet-600 text-white py-3 px-4 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-105 transform shadow-lg",children:"🎵 View Full Analysis →"})]})]})]})]})]})})})]})}),e.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-10",children:e.jsx("a",{href:"#hook",className:"animate-bounce group",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/10 backdrop-blur-sm border border-white/20 flex items-center justify-center group-hover:bg-white/20 transition-all duration-300",children:e.jsx("svg",{className:"w-6 h-6 text-white/70 group-hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})})})})]}),e.jsx(ye,{isOpen:oe,onClose:()=>re(!1),defaultMode:"login"})]})}function Ie(){return e.jsx(fe,{children:e.jsx(pe,{children:e.jsx(Ae,{})})})}export{Ie as HeroSimpleWithProvider};
